# Default values for jenkins.
# This is a YAML-formatted file.
# Declare name/value pairs to be passed into your templates.
# name: value

## Overrides for generated resource names
# See templates/_helpers.tpl
# nameOverride:
# fullnameOverride:

master:
  componentName: "jenkins-master"
  image: "jenkins/jenkins"
  tag: "2.194"
  imagePullPolicy: "Always"
  useSecurity: true
  adminUser: "admin"
  adminPassword: "natupala"
  # maxUnavailable: 25%
  resources:
    requests:
      cpu: "200m"
      memory: "256Mi"
    limits:
      cpu: "2000m"
      memory: "1024Mi"
  servicePort: 8080
  targetPort: 8080
  serviceType: NodePort
  serviceAnnotations: {}
  nodePort: 32323
  # Enable Kubernetes Liveness and Readiness Probes
  # ~ 2 minutes to allow Jenkins to restart when upgrading plugins. Set ReadinessTimeout to be shorter than LivenessTimeout.
  healthProbes: true
  healthProbesLivenessTimeout: 5
  healthProbesReadinessTimeout: 5
  healthProbeLivenessPeriodSeconds: 10
  healthProbeReadinessPeriodSeconds: 10
  healthProbeLivenessFailureThreshold: 5
  healthProbeReadinessFailureThreshold: 3
  healthProbeLivenessInitialDelay: 90
  healthProbeReadinessInitialDelay: 60
  slaveListenerPort: 50000
  loadBalancerSourceRanges:
  - 0.0.0.0/0
  # List of plugins to be install during Jenkins master start
  installPlugins:
    - kubernetes:1.19.0
    - workflow-job:2.35
    - workflow-aggregator:2.6
    - credentials-binding:1.20
    - git:3.12.1
    - kubernetes-cd:2.1.2

  scriptApproval:
    - "method groovy.json.JsonSlurperClassic parseText java.lang.String"
    - "new groovy.json.JsonSlurperClassic"
    - "staticMethod org.codehaus.groovy.runtime.DefaultGroovyMethods leftShift java.util.Map java.util.Map"
    - "staticMethod org.codehaus.groovy.runtime.DefaultGroovyMethods split java.lang.String"

  # List of groovy init scripts to be executed during Jenkins master start
  nodeSelector: {}
  tolerations: []
  customConfigMap: false

agent:
  enabled: true
  image: "jenkins/jnlp-slave"
  tag: "3.29-1"
  customJenkinsLabels: []
  # name of the secret to be used for image pulling
  imagePullSecretName:
  componentName: "jenkins-slave"
  privileged: false
  resources:
    requests:
      cpu: "200m"
      memory: "256Mi"
    limits:
      cpu: "1000m"
      memory: "1024Mi"
  # You may want to change this to true while testing a new image
  alwaysPullImage: false
  volumes:
    - type: HostPath
    - hostPath: /var/run/docker.sock
    - mountPath: /var/run/docker.sock
  nodeSelector: {}
  # Key Value selectors. Ex:
  # jenkins-agent: v1
persistence:
  enabled: true
  ##
  storageClass:
  annotations: {}
  accessMode: "ReadWriteOnce"
  size: "10Gi"
  volumes:
  #  - name: nothing
  #    emptyDir: {}
  mounts:
  #  - mountPath: /var/nothing
  #    name: nothing
  #    readOnly: true

networkPolicy:
  # Enable creation of NetworkPolicy resources.
  enabled: false
  # For Kubernetes v1.4, v1.5 and v1.6, use 'extensions/v1beta1'
  # For Kubernetes v1.7, use 'networking.k8s.io/v1'
  apiVersion: networking.k8s.io/v1

## Install Default RBAC roles and bindings
rbac:
  create: true

serviceAccount:
  create: true
  # The name of the service account is autogenerated by default
  name:
  annotations: {}


